<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>
<body>
    <!-- Header -->    
    <%- include('../partials/header') %>
    <!-- Sección principal -->
    <section class="registro-login">
        <div class="carga-un-nuevo-producto"> <h3 class="carga-un-nuevo-producto" >Editá tu producto </h3> </div>
        <form class="form" action="/products/<%= product.id %>?_method=PUT" method="POST">
            <!-- Nombre del Producto -->
            <div class="categoria-create-edit" > Nombre del producto: </div>
            <div class="datos">
                <input type="text" name="nombre_producto" placeholder="Nombre del Producto" value="<%= product.nombre %>">
                <% if (locals.errors && errors.nombre_producto) { %>
                    <div class="text-danger" > <%= errors.nombre_producto.msg %> </div>
                <% } %>    
            </div>
            <!-- Descripción del Producto -->
            <div class="categoria-create-edit"> Descripción del Producto: </div>
            <div class="datos" >
                <textarea class="descripcion-del-producto-create-edit" name="descripcion"> <%= product.descripcion %>  </textarea>
                <% if (locals.errors && errors.descripcion) { %>
                    <div class="text-danger" > <%= errors.descripcion.msg %> </div>
                <% } %>      
            </div>
            <!-- Imágenes -->
            <!-- Deberían aparecer las imágenes actuales --> 
            <div class="datos-imagen">
                <input class="boton-adjuntar" type="file" name="imagen" multiple>
                <% if (locals.errors && errors.imagenProducto) { %>
                    <div class="text-danger" > <%= errors.imagenProducto.msg %> </div>
                <% } %>    
            </div>            
            <!-- Categoría --> 
            <div>
                <div class="categoria-create-edit"> Categoría: </div>
                    <% for (let i = 0; i < categories.length; i++) { %>
                    <div class="create-edit-checkbox">
                        <label> <input type="radio" name="categoria" value="<%= categories[i].id %>" <%= product.category_id == (i + 1)  ? "checked" : "" %>> <%= categories[i].nombre %> </label>
                    </div>
                    <% } %> 
            </div>
            <!-- Precio --> 
            <div class="datos" id="precio">
                <input type="text" name="precio" placeholder="Precio (Ej: $ 799,99)" value="<%= product.precio %>">
                <% if (locals.errors && errors.precio) { %>
                    <div class="text-danger" > <%= errors.precio.msg %> </div>
                <% } %>      
            </div>
            <!-- Stock -->
            <div class="datos">
                <input type="text" name="stock" placeholder="Stock (Ej: 100)" value="<%= product.stock %>">
                <% if (locals.errors && errors.stock) { %>
                    <div class="text-danger" > <%= errors.stock.msg %> </div>
                <% } %>   
            </div>
            <!-- Enviar -->
            <div class="datos">
                <button class="boton-create-edit" type="submit"> Enviar </button>
            </div>
            <div class="datos">
                <button class="boton-create-reset" type="reset"> Borrar </button>
            </div>
        </form>
    </section>
    <%- include('../partials/footer') %>
</body>
</html>